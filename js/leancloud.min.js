!function(){function e(e,t){return new Promise((function(n,o){e("get","/classes/Counter?where="+encodeURIComponent(JSON.stringify({target:t}))).then(e=>e.json()).then(({results:r})=>{if(r&&r.length>0){var a=r[0];n(a)}else e("post","/classes/Counter",{target:t,time:0}).then(e=>e.json()).then(e=>{n(e)}).catch(e=>{console.error("Failed to create",e),o(e)})}).catch(e=>{console.error("LeanCloud Counter Error",e),o(e)})}))}function t(e){return{method:"PUT",path:"/1.1/classes/Counter/"+e,body:{time:{__op:"Increment",amount:1}}}}function n(n){var o=[],r=[],a=document.querySelector("#leancloud_container_site_pv");if(a){var s=e(n,"site-pv").then(e=>{r.push(t(e.objectId));var n=document.querySelector("#leancloud_value_site_pv");n&&(n.innerText=e.time+1,a&&(a.style.display="inline"))});o.push(s)}var c=document.querySelector("#leancloud_container_site_uv");if(c){var l=e(n,"site-uv").then(e=>{var n,o,a=(n="LeanCloud_UV_Flag",!((o=localStorage.getItem(n))&&(new Date).getTime()-parseInt(o)<=864e5||(localStorage.setItem(n,(new Date).getTime().toString()),0)));a&&r.push(t(e.objectId));var s=document.querySelector("#leancloud_value_site_uv");s&&(s.innerText=e.time+(a?1:0),c&&(c.style.display="inline"))});o.push(l)}}var o="<%= theme.footer.statistics.leancloud.appId %>";function r(e){n((t,n,r)=>fetch(`${e}/1.1${n}`,{method:t,headers:{"X-LC-Id":o,"X-LC-Key":"<%= theme.footer.statistics.leancloud.appKey %>","Content-Type":"application/json"},body:JSON.stringify(r)}))}var a="-MdYXbMMI"!==o.slice(-9)?"<%= theme.footer.statistics.leancloud.serverURL %>":`https://${o.slice(0,8).toLowerCase()}.api.lncldglobal.com`;a?r(a):fetch("https://app-router.leancloud.cn/2/route?appId="+o).then(e=>e.json()).then(({api_server:e})=>{r("https://"+e)})}();